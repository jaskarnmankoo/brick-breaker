"use strict";(self.webpackChunkbrick_breaker=self.webpackChunkbrick_breaker||[]).push([[691],{193:function(e,r,t){t.r(r),t.d(r,{default:function(){return f}});var n=t(7),c=t(717);var u=t(386),a=t.p+"static/grape-59e16ef56f6b0d63fcf5f219dd5631af.webp",i=t.p+"static/mango-da75fec86811a51dbb606a33ed123331.webp",l=t.p+"static/pineapple-98d3c88bae8db1a291b025c892e48d5a.webp",s=t.p+"static/strawberry-85c6d5cf83473856d4161378140534ba.webp";function f(){var e=function(e){var r=n.useState(!1),t=r[0],c=r[1],u=n.useCallback((function(e){return e.matches?c(!0):c(!1)}),[]);return n.useEffect((function(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?c(!0):c(!1),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",u),function(){window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",u)}}),[u]),t}(),r=n.useState(""),t=r[0],f=r[1],o=n.useState(!1),m=o[0],d=o[1],h=n.useState(!1),b=h[0],k=h[1],g=n.useState(!1),v=g[0],w=g[1],R=n.useRef(0),y=n.useRef(0),E=n.useRef(null),p=n.useRef(null),C=n.useRef(3),L=n.useRef(0),x=n.useRef(2),S=n.useRef(-2),N=n.useRef(0),P=n.useRef(0),A=n.useRef([]),F=n.useRef(4),M=n.useRef(10),X=n.useRef(65),T=n.useRef(20),j=n.useRef(10),G=n.useRef(50),H=n.useRef(30),I=n.useRef(1e3),_=n.useRef(null),q=n.useRef(0),B=n.useRef(0),U=n.useRef(-2),Y=n.useRef(!1),Z=n.useRef(7),z=n.useRef(0),D=n.useRef(100),J=n.useRef(!1),K=n.useRef(null),O=n.useRef(null),Q=n.useRef(null),V=n.useRef(null);n.useEffect((function(){var e=window.location.search,r=new URLSearchParams(e).get("mobile");w("true"===r)}),[]);var W=n.useCallback((function(){return f("easy")}),[]),$=n.useCallback((function(){return f("medium")}),[]),ee=n.useCallback((function(){return f("hard")}),[]),re=n.useCallback((function(e){"Right"==e.key||"ArrowRight"==e.key?J.current=!0:"Left"!=e.key&&"ArrowLeft"!=e.key||(Y.current=!0)}),[]),te=n.useCallback((function(e){"Right"==e.key||"ArrowRight"==e.key?J.current=!1:"Left"!=e.key&&"ArrowLeft"!=e.key||(Y.current=!1)}),[]),ne=n.useCallback((function(e){if(E.current){var r=e.clientX-E.current.offsetLeft;r>0&&r<E.current.width&&(z.current=r-D.current/2)}}),[]),ce=n.useCallback((function(e){e.touches&&(z.current=e.touches[0].pageX-D.current/2)}),[]),ue=n.useCallback((function(){document.removeEventListener("keydown",re,!1),document.removeEventListener("keyup",te,!1),document.removeEventListener("mousemove",ne,!1)}),[re,te,ne]),ae=n.useCallback((function(){document.removeEventListener("touchstart",ce,!1),document.removeEventListener("touchmove",ce,!1)}),[ce]),ie=n.useCallback((function(){y.current=0,L.current=0,C.current=3,k(!1),d(!0),v?(document.addEventListener("touchstart",ce,!1),document.addEventListener("touchmove",ce,!1)):(document.addEventListener("keydown",re,!1),document.addEventListener("keyup",te,!1),document.addEventListener("mousemove",ne,!1))}),[v,re,te,ne,ce]),le=n.useCallback((function(){for(var e=0;e<M.current;e++)for(var r=0;r<F.current;r++){var t=A.current[e][r];1==t.status&&N.current>t.x&&N.current<t.x+X.current&&P.current>t.y&&P.current<t.y+T.current&&(S.current=-S.current,t.status=0,L.current++)}}),[]),se=n.useCallback((function(){E.current&&q.current>=z.current-D.current/2+20&&q.current<=z.current+D.current-20&&B.current>E.current.height-20&&B.current<=E.current.height&&(y.current+=1)}),[]),fe=n.useCallback((function(){p.current&&(p.current.beginPath(),p.current.arc(N.current,P.current,10,0,2*Math.PI),p.current.fillStyle=e?"#fff":"#000",p.current.fill(),p.current.closePath())}),[e]),oe=n.useCallback((function(){E.current&&p.current&&(p.current.font="16px Rubik",p.current.fillStyle=e?"#fff":"#000",p.current.fillText("Bonus: "+y.current,E.current.width/2-25,20))}),[e]),me=n.useCallback((function(){for(var r=0;r<M.current;r++)for(var t=0;t<F.current;t++)if(1==A.current[r][t].status){var n=r*(X.current+j.current)+H.current,c=t*(T.current+j.current)+G.current;A.current[r][t].x=n,A.current[r][t].y=c,p.current&&(p.current.beginPath(),p.current.rect(n,c,X.current,T.current),p.current.fillStyle=e?"#fff":"#000",p.current.fill(),p.current.closePath())}}),[e]),de=n.useCallback((function(){var e=[K.current,O.current,Q.current,V.current];E.current&&(B.current>E.current.height+I.current&&(_.current=e[(0,u.X)(4)],B.current=(0,u.X)(-60),q.current=(0,u.X)(E.current.width-40)),_.current&&p.current&&p.current.drawImage(_.current,q.current,B.current,40,60))}),[]),he=n.useCallback((function(){E.current&&p.current&&(p.current.font="16px Rubik",p.current.fillStyle=e?"#fff":"#000",p.current.fillText("Lives: "+C.current,E.current.width-65,20))}),[e]),be=n.useCallback((function(){E.current&&p.current&&(p.current.beginPath(),p.current.rect(z.current,E.current.height-10,D.current,10),p.current.fillStyle=e?"#fff":"#000",p.current.fill(),p.current.closePath())}),[e]),ke=n.useCallback((function(){p.current&&(p.current.font="16px Rubik",p.current.fillStyle=e?"#fff":"#000",p.current.fillText("Score: "+L.current,8,20))}),[e]),ge=n.useCallback((function(){if(E.current&&p.current){if(p.current.clearRect(0,0,E.current.width,E.current.height),me(),fe(),be(),ke(),he(),oe(),le(),de(),se(),B.current-=U.current,L.current===F.current*M.current)return v?ae():ue(),cancelAnimationFrame(R.current),f(""),k(!0),void d(!1);if((N.current+x.current>E.current.width-10||N.current+x.current<10)&&(x.current=-x.current),P.current+S.current<10)S.current=-S.current;else if(P.current+S.current>E.current.height-10)if(N.current>z.current&&N.current<z.current+D.current)(P.current=P.current-10)&&(S.current=-S.current);else{if(C.current--,!C.current)return v?ae():ue(),cancelAnimationFrame(R.current),f(""),k(!0),void d(!1);N.current=E.current.width/2,P.current=E.current.height-30,z.current=(E.current.width-D.current)/2}J.current&&z.current<E.current.width-D.current?z.current+=Z.current:Y.current&&z.current>0&&(z.current-=Z.current),N.current+=x.current,P.current+=S.current}R.current=requestAnimationFrame(ge)}),[le,fe,oe,me,de,he,be,ke,se,v,ue,ae]);if(t&&m&&E.current&&(p.current=E.current.getContext("2d"),p.current)){N.current=E.current.width/2,P.current=E.current.height-30,z.current=(E.current.width-D.current)/2,"easy"===t&&(x.current=2,S.current=-2,I.current=3e3,Z.current=7,D.current=100,F.current=4,M.current=10,X.current=65,T.current=20,j.current=10,G.current=50,H.current=30),"medium"===t&&(x.current=3,S.current=-3,I.current=4e3,Z.current=10,D.current=85,z.current=10,F.current=6,M.current=12,X.current=50,T.current=20,j.current=15,G.current=50,H.current=20),"hard"===t&&(x.current=4,S.current=-4,I.current=6e3,Z.current=12,D.current=75,F.current=8,M.current=12,X.current=50,T.current=20,j.current=15,G.current=50,H.current=20),v&&(M.current=6,X.current=40,"hard"===t&&(F.current=6));for(var ve=0;ve<M.current;ve++){A.current[ve]=[];for(var we=0;we<F.current;we++)A.current[ve][we]={x:0,y:0,status:1}}ge()}return n.createElement(n.Fragment,null,n.createElement(c.Z,{title:"Home",difficulty:t}),n.createElement("main",{className:"grid grid-cols-1"},b&&n.createElement("p",{className:"text-xl text-center"},"Game over! Your score was: ",L.current+y.current),t?n.createElement(n.Fragment,null,!m&&n.createElement("button",{type:"button",className:"game-mode w-60 mx-auto",onClick:ie},"Start Game"),n.createElement("div",{className:"grid grid-cols-4 justify-items-center"},n.createElement("img",{ref:K,src:a,alt:"",width:40,height:65}),n.createElement("img",{ref:O,src:i,alt:"",width:40,height:65}),n.createElement("img",{ref:Q,src:l,alt:"",width:40,height:65}),n.createElement("img",{ref:V,src:s,alt:"",width:40,height:65})),n.createElement("div",{className:"grid grid-cols-1 justify-items-center"},n.createElement("canvas",{ref:E,width:v?360:800,height:v?400:600}))):n.createElement(n.Fragment,null,n.createElement("p",{className:"text-xl text-center"},"Choose a difficulty level..."),n.createElement("div",{className:"grid grid-cols-3"},n.createElement("button",{type:"button",className:"game-mode",onClick:W},"Easy"),n.createElement("button",{type:"button",className:"game-mode",onClick:$},"Medium"),n.createElement("button",{type:"button",className:"game-mode",onClick:ee},"Hard")))))}}}]);
//# sourceMappingURL=component---src-pages-index-tsx-d51766b0c72087a4f83d.js.map